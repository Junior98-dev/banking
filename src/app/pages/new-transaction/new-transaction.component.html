<div class="p-2">
    <h3 class="mb-4">Nouvelle transaction</h3>

    <div class="alert alert-danger" role="alert mb-4" *ngIf="errorMessages.length">
        <p *ngFor="let msg of errorMessages">. {{msg}}</p>
    </div>

    <div class="card p-3">
        <h3>Votre solde est de : {{accountBalance}}</h3>
        <div class="mb-1">
            <label for="Transaction-Type">Type de transaction</label>
            <select [(ngModel)]="transaction.type" name="" id="" class="form-select" aria-label="Default select example">
                <option selected>Choix de type de transaction</option>
                <option [ngValue]="'depot'">depot</option>
                <option [ngValue]="'Transfert'">Transfert</option>
            </select>
        </div>
        <div class="mb-1" *ngIf="transaction.type ==='Transfert'">
            <label for="form-label">Choix de contact</label>
            <select [(ngModel)]="transaction.destinationIban" name="" id="" class="form-select" aria-label="Default select example">
                <option [ngValue]="''">Destinataire</option>
                <option *ngFor="let ct of contacts" [ngValue]="ct.iban">{{ct.firstname + ' ' + ct.lastname}}</option>
            </select>
        </div>
        <div class="mb-form mb-1" *ngIf="transaction.type">
            <label for="amount">Montant</label>
            <input [(ngModel)]="transaction.amount" type="number" class="form-control" placeholder="ex : 500â‚¬" />
        </div>
        <div class="mb-form mb-3" *ngIf="transaction.type ==='Transfert'">
            <label for="IBAN">IBAN</label>
            <input [(ngModel)]="transaction.destinationIban" type="text" id="form2Example2" class="form-control" placeholder="AB12 9856 4712 1234" />
        </div>

        <div class="d-flex justify-content-end">
            <button (click)="cancel()" type="button" class="btn btn-link">
                <em class="fas fa-times"></em>&nbsp; Annuler
            </button>
            <button (click)="save()" type="button" class="btn btn-danger">
                <em class="fas fa-save"></em>&nbsp; Envoyer
            </button>
        </div>
    </div>
</div>